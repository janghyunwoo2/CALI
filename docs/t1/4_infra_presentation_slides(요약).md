# CALI ì¸í”„ë¼ êµ¬ì¶• - PPT ë°œí‘œ ìë£Œ

> **ë°œí‘œì**: Infrastructure Lead  
> **ëŒ€ìƒ**: ë™ë£Œ ì—”ì§€ë‹ˆì–´  
> **ì´ ë°œí‘œ ì‹œê°„**: 15ë¶„ (ìŠ¬ë¼ì´ë“œë‹¹ 2-3ë¶„)

---

## ğŸ¯ Slide 1: ë„ì „ ê³¼ì œ

### ì œëª©
**"5ì¼ì˜ ë„ì „: Production-Ready ì¸í”„ë¼ êµ¬ì¶•"**

### ìŠ¬ë¼ì´ë“œ ë‚´ìš©

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

            CALI Infrastructure
   5ì¼ ë§Œì— ì™„ì„±í•œ Production-Ready EKS í”Œë«í¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ í”„ë¡œì íŠ¸ ëª©í‘œ
   AWS EKS ê¸°ë°˜ ì‹¤ì‹œê°„ ë¡œê·¸ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•

â±ï¸ ìš°ë¦¬ê°€ ë§ˆì£¼í•œ ì œì•½
   â€¢ ê°œë°œ ê¸°ê°„: ë‹¨ 5ì¼
   â€¢ êµ¬ì¶• ë²”ìœ„: 11ê°œ AWS ë¦¬ì†ŒìŠ¤ + 7ê°œ Kubernetes ì„œë¹„ìŠ¤
   â€¢ ë³´ì•ˆ ìš”êµ¬: IAM Least Privilege 100%
   â€¢ ë¹„ìš© ì œí•œ: $50/day ì´í•˜

âœ… ë‹¬ì„± ë°©ì‹
   terraform apply í•œ ë²ˆìœ¼ë¡œ ì „ì²´ ì¸í”„ë¼ ìë™ ë°°í¬
```

### ë°œí‘œì ë…¸íŠ¸ (2ë¶„)

- **Opening**: "5ì¼ ì•ˆì— Production ì¸í”„ë¼ë¥¼ êµ¬ì¶•í•˜ë¼ëŠ” ë¯¸ì…˜ì„ ë°›ì•˜ìŠµë‹ˆë‹¤"
- **ì œì•½ ê°•ì¡°**: ì‹œê°„, ë²”ìœ„, ë³´ì•ˆ, ë¹„ìš© - 4ê°€ì§€ ëª¨ë‘ íƒ€í˜‘ ë¶ˆê°€
- **í•´ê²°ì±… ì œì‹œ**: IaC(Infrastructure as Code) ì „ëµ ì„ íƒ
- **ì²­ì¤‘ ì§ˆë¬¸ ìœ ë„**: "ì—¬ëŸ¬ë¶„ì´ë¼ë©´ ì–´ë–»ê²Œ ì ‘ê·¼í•˜ì…¨ì„ê¹Œìš”?"

---

## ğŸ—ï¸ Slide 2: ì „ì²´ ì•„í‚¤í…ì²˜

### ì œëª©
**"ë‹¨ì¼ `terraform apply`ë¡œ ìƒì„±ë˜ëŠ” ëª¨ë“  ê²ƒ"**

### ìŠ¬ë¼ì´ë“œ ë‚´ìš©

```mermaid
graph TB
    subgraph "Terraform Stack"
        A[providers.tf<br/>AWS/Helm/K8s Provider]
        B[06-iam.tf<br/>7ê°œ IAM Role]
        C[Data Streaming<br/>Kinesis+Firehose]
        D[Compute<br/>EKS Cluster]
        E[Applications<br/>Helm ChartsÃ—4]
    end
    
    A --> B
    B --> C
    B --> D
    D --> E
    
    style B fill:#ff6b6b
    style D fill:#4ecdc4
    style E fill:#95e1d3
```

**Infrastructure as Code í•µì‹¬ ì›ì¹™**

| ê³„ì¸µ | ë¦¬ì†ŒìŠ¤ | ë°°í¬ ë°©ì‹ |
|------|--------|----------|
| **Foundation** | IAM, VPC | Terraform ìš°ì„  ìƒì„± |
| **Data Layer** | Kinesis, S3, OpenSearch | Terraform ë³‘ë ¬ ìƒì„± |
| **Compute** | EKS Cluster, Node Group | Terraform ìˆœì°¨ ìƒì„± |
| **Applications** | Fluent Bit, Milvus, Airflow, Grafana | Helm Provider |

**í•µì‹¬ ìˆ˜ì¹˜**
- Terraform íŒŒì¼: 13ê°œ
- ë°°í¬ ì‹œê°„: **25ë¶„**
- ìˆ˜ë™ í´ë¦­: **0íšŒ**

### ë°œí‘œì ë…¸íŠ¸ (3ë¶„)

- **ì•„í‚¤í…ì²˜ ì„¤ëª…**: "IAMì„ ë¨¼ì € ë§Œë“¤ì–´ì•¼ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ê°€ ì°¸ì¡° ê°€ëŠ¥"
- **Terraform + Helm í†µí•© ê°•ì¡°**: "Kubernetes ì•±ê¹Œì§€ Terraformìœ¼ë¡œ ê´€ë¦¬"
- **ë°°í¬ ì‹œê°„**: "OpenSearch 18ë¶„, EKS 12ë¶„ì´ ëŒ€ë¶€ë¶„. AWS í”„ë¡œë¹„ì €ë‹ ì‹œê°„"
- **í¬ì¸íŠ¸**: "ì½”ë“œ í•œ ì¤„ë„ ì§ì ‘ ìˆ˜ì • ì—†ì´ ì¬í˜„ ê°€ëŠ¥"

---

## ğŸš¨ Slide 3: 3ê°€ì§€ í•µì‹¬ ë¬¸ì œ

### ì œëª©
**"Productionì—ì„œ ë§ˆì£¼í•œ Real-World Problems"**

### ìŠ¬ë¼ì´ë“œ ë‚´ìš©

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
             ê¸°ìˆ ì  ë‚œê´€ TOP 3
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1ï¸âƒ£ OpenSearch Fine-Grained Access Control (FGAC)

   ë¬¸ì œ: Terraformìœ¼ë¡œ OpenSearch ìƒì„± í›„ Firehose ì „ì†¡ ì‹¤íŒ¨
   
   âŒ Error: [403] security_exception - no permissions
   
   ì›ì¸: AWS IAM access_policies â‰  Security Plugin Role Mapping
         â†’ 2ë‹¨ê³„ ë³´ì•ˆ ê³„ì¸µì„ ëª¨ë‘ í†µê³¼í•´ì•¼ í•¨


2ï¸âƒ£ Airflow Helm Chart IRSA ì„¤ì •

   ë¬¸ì œ: Airflow Podì—ì„œ S3 ì ‘ê·¼ ë¶ˆê°€
   
   âŒ Error: NoCredentialsError: Unable to locate credentials
   
   ì›ì¸: Global ServiceAccountì—ë§Œ ì„¤ì •
         â†’ 5ê°œ ì»´í¬ë„ŒíŠ¸ë³„ ServiceAccountì— IRSA ë¯¸ì„¤ì •


3ï¸âƒ£ Windows PowerShell í™˜ê²½

   ë¬¸ì œ: Terraform local-exec ì‹¤í–‰ ì‹¤íŒ¨
   
   âŒ Error: JSON ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬ ì˜¤ë¥˜
   
   ì›ì¸: ëŒ€ë¶€ë¶„ì˜ ì˜ˆì œê°€ Bash ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜
         â†’ Windows í™˜ê²½ ê³ ë ¤ ë¶€ì¡±
```

### ë°œí‘œì ë…¸íŠ¸ (3ë¶„)

- **ë¬¸ì œ #1**: "ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ë„ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ì´í•´í•´ì•¼ í•œë‹¤ëŠ” êµí›ˆ"
- **ë¬¸ì œ #2**: "Helm Chart ê³µì‹ ë¬¸ì„œë§Œ ë¯¿ìœ¼ë©´ ì•ˆ ë¨. ì‹¤ì œ ë™ì‘ í™•ì¸ í•„ìˆ˜"
- **ë¬¸ì œ #3**: "í¬ë¡œìŠ¤ í”Œë«í¼ ê³ ë ¤ì˜ ì¤‘ìš”ì„±"
- **ì²­ì¤‘ ê³µê° ìœ ë„**: "ë‹¤ë“¤ í•œ ë²ˆì¯¤ ê²ªì–´ë³´ì‹  403 ì—ëŸ¬ì£ ?"

---

## ğŸ’¡ Slide 4: í•´ê²° ì „ëµ

### ì œëª©
**"3ê°€ì§€ ì†”ë£¨ì…˜: ë„êµ¬ì˜ í•œê³„ë¥¼ ì¡°í•©ìœ¼ë¡œ ê·¹ë³µ"**

### ìŠ¬ë¼ì´ë“œ ë‚´ìš©

**í•´ê²° ì „ëµ ë§¤íŠ¸ë¦­ìŠ¤**

| ë¬¸ì œ | í•´ê²° ì ‘ê·¼ë²• | ì‚¬ìš© ë„êµ¬ | ê²°ê³¼ |
|------|-------------|----------|------|
| **OpenSearch FGAC** | Provisionerë¡œ API ì§ì ‘ í˜¸ì¶œ | Terraform + kubectl + curl | âœ… Firehose ì •ìƒ ì „ì†¡ |
| **Airflow IRSA** | ì»´í¬ë„ŒíŠ¸ë³„ ê°œë³„ ì„¤ì • | Helm `set` ë¸”ë¡ Ã— 5 | âœ… S3 ì ‘ê·¼ ì„±ê³µ |
| **Windows í™˜ê²½** | PowerShell ë„¤ì´í‹°ë¸Œ í™œìš© | `interpreter` ëª…ì‹œ | âœ… ìë™ ë¹Œë“œ ë™ì‘ |

**í•µì‹¬ ì¸ì‚¬ì´íŠ¸**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚  "í•˜ë‚˜ì˜ ë„êµ¬ë¡œ ëª¨ë“  ê±¸ í•´ê²°í•˜ë ¤ëŠ” ìˆœê°„,       â”‚
â”‚   ë‹¹ì‹ ì€ ë§‰íŒë‹¤."                              â”‚
â”‚                                                 â”‚
â”‚  Terraformë§Œìœ¼ë¡œ ì•ˆ ë˜ë©´ â†’ kubectl ì‚¬ìš©        â”‚
â”‚  Helmë§Œìœ¼ë¡œ ë¶€ì¡±í•˜ë©´ â†’ set ë¸”ë¡ ì˜¤ë²„ë¼ì´ë“œ     â”‚
â”‚  Bashê°€ ì•ˆ ë˜ë©´ â†’ PowerShell í™œìš©              â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ê¸°ìˆ ì  ì¡°í•©ì˜ í˜**
- Terraform (ì¸í”„ë¼) + Helm (ì•±) + kubectl (API) = ì™„ì „ ìë™í™”
- ë‹¨ì¼ ë„êµ¬ì˜ í•œê³„ ì¸ì • â†’ ìœ ì—°í•œ ì¡°í•© ì „ëµ

### ë°œí‘œì ë…¸íŠ¸ (2ë¶„)

- **í‘œ ì„¤ëª…**: "ë¬¸ì œ-í•´ê²°-ë„êµ¬-ê²°ê³¼ íë¦„ìœ¼ë¡œ ë³´ì—¬ì£¼ê¸°"
- **ê°•ì¡°ì **: "ì™„ë²½í•œ ë„êµ¬ëŠ” ì—†ë‹¤. ì¡°í•©ì´ ë‹µì´ë‹¤"
- **ì˜ˆì‹œ**: "OpenSearchëŠ” Terraform Providerë¡œ ì•ˆ ë˜ì–´ì„œ curl ì‚¬ìš©"
- **êµí›ˆ**: "ë„êµ¬ì— ì§‘ì°©í•˜ì§€ ë§ê³  ëª©í‘œ ë‹¬ì„±ì— ì§‘ì¤‘"

---

## ğŸ“ˆ Slide 5: ì„±ê³¼

### ì œëª©
**"ìˆ«ìë¡œ ì¦ëª…ëœ ê²°ê³¼: Production-Ready ë‹¬ì„±"**

### ìŠ¬ë¼ì´ë“œ ë‚´ìš©

**1. ë°°í¬ ì„±ëŠ¥**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  terraform apply ì‹¤í–‰ ì‹œê°„         â”‚
â”‚                                    â”‚
â”‚  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  18ë¶„          â”‚
â”‚  OpenSearch ë„ë©”ì¸ ìƒì„±            â”‚
â”‚                                    â”‚
â”‚  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  12ë¶„                â”‚
â”‚  EKS í´ëŸ¬ìŠ¤í„° ìƒì„±                 â”‚
â”‚                                    â”‚
â”‚  â–“â–“â–“â–“  5ë¶„                         â”‚
â”‚  ê¸°íƒ€ ë¦¬ì†ŒìŠ¤                       â”‚
â”‚                                    â”‚
â”‚  Total: 25ë¶„ âœ… (ëª©í‘œ 30ë¶„)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì¬í˜„ì„± ê²€ì¦: 3íšŒ ë°˜ë³µ í…ŒìŠ¤íŠ¸ ëª¨ë‘ ì„±ê³µ
```

**2. ë¹„ìš© íš¨ìœ¨ì„±**

| êµ¬ë¶„ | ê¸ˆì•¡ | ë‹¬ì„±ë¥  |
|------|------|--------|
| **ì˜ˆì‚°** | $50/day | - |
| **ì‹¤ì œ** | $35/day | âœ… 30% ì ˆê° |

- EKS Control Plane: $2.40
- EC2 Nodes (t3.mediumÃ—2): $2.00
- OpenSearch (t3.small): $1.50
- ê¸°íƒ€ (Kinesis, S3, Firehose): $1.10

**3. ë³´ì•ˆ ë‹¬ì„±ë„**

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  Least Privilege IAM      100% âœ…
  IRSA ì ìš© (Podë³„)        100% âœ…
  AWS Credentials í•˜ë“œì½”ë”©   0% âœ…
  Security Audit ë¡œê¹…      í™œì„±í™” âœ…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**4. ìš´ì˜ íš¨ìœ¨ì„±**

- ì¸í”„ë¼ ë°°í¬ ì‹œê°„: **67% ì ˆê°** (ìˆ˜ë™ 75ë¶„ â†’ ìë™ 25ë¶„)
- ì¬í˜„ ê°€ëŠ¥ì„±: **100%** (ì½”ë“œ = ë¬¸ì„œ)
- íŒ€ í˜‘ì—…: **Git ê¸°ë°˜** (ì½”ë“œ ë¦¬ë·°, PR, íˆìŠ¤í† ë¦¬)

### ë°œí‘œì ë…¸íŠ¸ (2ë¶„)

- **ë°°í¬ ì‹œê°„**: "25ë¶„ì€ ëŒ€ë¶€ë¶„ AWS í”„ë¡œë¹„ì €ë‹ ì‹œê°„. ìš°ë¦¬ ì½”ë“œëŠ” ë¹ ë¦„"
- **ë¹„ìš©**: "t3.medium ì„ íƒ, Lifecycle ì •ì±…ìœ¼ë¡œ 30% ì ˆê°"
- **ë³´ì•ˆ**: "ëª¨ë“  Podê°€ IRSA ì‚¬ìš©. Credentials ë…¸ì¶œ 0ê±´"
- **ê°•ì¡°**: "ìˆ«ìê°€ ì¦ëª…. ì£¼ê´€ì  í‰ê°€ ì•„ë‹˜"

---

## ğŸ“ Slide 6: ë°°ìš´ ê²ƒê³¼ ì•ìœ¼ë¡œ

### ì œëª©
**"IaCê°€ ê°€ë¥´ì³ì¤€ ê²ƒ & Next Steps"**

### ìŠ¬ë¼ì´ë“œ ë‚´ìš©

**í•µì‹¬ êµí›ˆ TOP 3**

```
1ï¸âƒ£ Everything as Code
   
   ì½”ë“œ = ë¬¸ì„œ = ì‹¤í–‰
   Git History = ì¸í”„ë¼ ë³€ê²½ ì´ë ¥
   ì½”ë“œ ë¦¬ë·° = ì¸í”„ë¼ ë³€ê²½ ê²€í† 


2ï¸âƒ£ ë„êµ¬ì˜ í•œê³„ë¥¼ ì¸ì •í•˜ê³  ì¡°í•©í•˜ë¼
   
   Terraform + Helm + kubectl + PowerShell
   = ì™„ì „ ìë™í™”


3ï¸âƒ£ StateëŠ” ì ˆëŒ€ì  ì§„ì‹¤ (Single Source of Truth)
   
   Terraform Stateë¥¼ ë¯¿ê³ , ë³´í˜¸í•˜ê³ , ë°±ì—…í•˜ë¼
   S3 + DynamoDB Lockìœ¼ë¡œ íŒ€ í˜‘ì—…
```

**í–¥í›„ ê°œì„  ê³„íš**

| ì‹œê¸° | í•­ëª© | ëª©í‘œ |
|------|------|------|
| **1ê°œì›”** | Prometheus + Grafana ê°•í™” | ê´€ì°° ê°€ëŠ¥ì„± í–¥ìƒ |
| **1ê°œì›”** | ArgoCD GitOps ì „í™˜ | ë°°í¬ ìë™í™” |
| **3ê°œì›”** | Multi-AZ ê³ ê°€ìš©ì„± | ì¥ì•  ë³µì›ë ¥ |
| **6ê°œì›”** | Multi-Region DR | ì¬í•´ ë³µêµ¬ |

**Final Message**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚  "ì¸í”„ë¼ëŠ” ì˜ˆìˆ ì´ ì•„ë‹ˆë¼ ì—”ì§€ë‹ˆì–´ë§ì´ë‹¤"        â”‚
â”‚                                                 â”‚
â”‚  â€¢ ê°ê°ì´ ì•„ë‹Œ ì½”ë“œë¡œ ì •ì˜                      â”‚
â”‚  â€¢ ì¶”ì¸¡ì´ ì•„ë‹Œ ë©”íŠ¸ë¦­ìœ¼ë¡œ ì¦ëª…                  â”‚
â”‚  â€¢ ê¸°ì–µì´ ì•„ë‹Œ Gitìœ¼ë¡œ ê¸°ë¡                     â”‚
â”‚                                                 â”‚
â”‚  CALI ì¸í”„ë¼ëŠ” ì´ì œ ëˆ„êµ¬ë‚˜ ì¬í˜„ ê°€ëŠ¥í•œ ì§€ì‹     â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°œí‘œì ë…¸íŠ¸ (3ë¶„)

- **êµí›ˆ #1**: "IaCëŠ” ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜. ê·œëª¨ í™•ì¥ ì‹œ ìˆ˜ë™ ê´€ë¦¬ ë¶ˆê°€ëŠ¥"
- **êµí›ˆ #2**: "ì™„ë²½í•œ ë„êµ¬ ì°¾ì§€ ë§ê³ , ì¡°í•© ëŠ¥ë ¥ í‚¤ìš°ê¸°"
- **êµí›ˆ #3**: "State íŒŒì¼ ë‚ ì•„ê°€ë©´ ì¬ì•™. S3 ë°±ì—”ë“œ í•„ìˆ˜"
- **Next Steps**: "í˜„ì¬ëŠ” Dev í™˜ê²½. Productionì€ Multi-AZ í•„ìˆ˜"
- **Closing**: "ì§ˆë¬¸ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€!"

---

## ğŸ“ ë¶€ë¡ ìŠ¬ë¼ì´ë“œ (ë°±ì—…ìš©)

### Slide 7: ìƒì„¸ ë¹„ìš© ë¶„ì„ (ì„ íƒ)

| ë¦¬ì†ŒìŠ¤ | ì‚¬ì–‘ | ì‹œê°„ë‹¹ | ì¼ì¼ ë¹„ìš© |
|--------|------|--------|----------|
| EKS Control Plane | - | $0.10 | $2.40 |
| EC2 Nodes | t3.medium Ã— 2 | $0.0416 Ã— 2 | $2.00 |
| OpenSearch | t3.small.search + 20GB | - | $1.50 |
| Kinesis Stream | ìƒ¤ë“œ 1ê°œ | $0.015 | $0.36 |
| S3 Storage | ~10GB | - | $0.23 |
| Firehose | ì „ì†¡ëŸ‰ ê¸°ë°˜ | - | $0.10 |
| **Total** | | | **$35/day** |

---

### Slide 8: IAM ê¶Œí•œ êµ¬ì¡° (Q&A ëŒ€ë¹„)

```mermaid
graph TB
    A[OIDC Provider] --> B[IAM Role: app_role]
    A --> C[IAM Role: airflow_role]
    A --> D[IAM Role: cluster_autoscaler]
    
    B --> E[ServiceAccount: consumer-sa]
    C --> F[ServiceAccount: airflow-*]
    D --> G[ServiceAccount: cluster-autoscaler]
    
    E --> H[Consumer Pod]
    F --> I[Airflow Pods]
    G --> J[Autoscaler Pod]
    
    style A fill:#ff6b6b
    style B fill:#4ecdc4
    style C fill:#4ecdc4
    style D fill:#4ecdc4
```

---

### Slide 9: Terraform íŒŒì¼ êµ¬ì¡° (ê¸°ìˆ  ì§ˆë¬¸ ëŒ€ë¹„)

```
infra/terraform/
â”œâ”€â”€ providers.tf           # AWS/Helm/K8s Provider
â”œâ”€â”€ backend.tf            # S3 State + DynamoDB Lock
â”œâ”€â”€ 01-kinesis.tf         # Stream + Firehose Ã— 2
â”œâ”€â”€ 02-s3.tf              # Logs Bucket + Lifecycle
â”œâ”€â”€ 03-opensearch.tf      # Search Engine + FGAC
â”œâ”€â”€ 04-grafana.tf         # (ì£¼ì„ ì²˜ë¦¬, Helmìœ¼ë¡œ ì´ì „)
â”œâ”€â”€ 05-eks.tf             # Cluster + Node Group
â”œâ”€â”€ 06-iam.tf             # 7ê°œ Role + Policies
â”œâ”€â”€ 07-ecr.tf             # Container Registry Ã— 3
â”œâ”€â”€ 08-autoscaler.tf      # Cluster Autoscaler
â”œâ”€â”€ 09-storage-class.tf   # gp2 StorageClass
â”œâ”€â”€ 10-helm-releases.tf   # Helm Charts Ã— 4
â”œâ”€â”€ 11-k8s-apps.tf        # Consumer + Generator
â””â”€â”€ outputs.tf            # ARN, Endpoint ì¶œë ¥
```

---

## ğŸ¤ ë°œí‘œ íŒ

### ì‹œê°„ ë°°ë¶„
- Slide 1-2: 5ë¶„ (ë°°ê²½ + ì•„í‚¤í…ì²˜)
- Slide 3-4: 5ë¶„ (ë¬¸ì œ + í•´ê²°)
- Slide 5-6: 5ë¶„ (ì„±ê³¼ + êµí›ˆ)
- Q&A: 5ë¶„

### ê°•ì¡° í¬ì¸íŠ¸
1. **ìˆ«ìë¡œ ë§í•˜ê¸°**: 25ë¶„, $35/day, 100%
2. **ì‹œê°ì  ìš”ì†Œ**: ë‹¤ì´ì–´ê·¸ë¨ í¬ì¸íŒ…
3. **ì²­ì¤‘ ì°¸ì—¬**: "ì—¬ëŸ¬ë¶„ì´ë¼ë©´?" ì§ˆë¬¸ ë˜ì§€ê¸°
4. **ì‹¤íŒ¨ ê³µìœ **: ì‹¤ìˆ˜ì™€ ê·¹ë³µ ê³¼ì • ì†”ì§í•˜ê²Œ

### ì˜ˆìƒ ì§ˆë¬¸
1. **Q: Terraform StateëŠ” ì–´ë””ì—?**
   - A: S3 ë°±ì—”ë“œ + DynamoDB Lock

2. **Q: EKS ë²„ì „ ì—…ê·¸ë ˆì´ë“œëŠ”?**
   - A: `version = "1.30"` ë³€ê²½ â†’ apply

3. **Q: ì™œ Kinesis? KafkaëŠ”?**
   - A: 5ì¼ ì¼ì •, Firehose í†µí•©, NoOps

4. **Q: Productionì—ë„ ë‹¨ì¼ OpenSearch ë…¸ë“œ?**
   - A: ì•„ë‹ˆìš”, ProdëŠ” 3ë…¸ë“œ + Multi-AZ

---

**ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ¯**
