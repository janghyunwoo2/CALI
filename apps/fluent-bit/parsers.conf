[PARSER]
    Name        cri
    Format      regex
    Regex       ^(?<time>[^ ]+) (?<stream>stdout|stderr) (?<logtag>[^ ]*) (?<log>.*)$
    Time_Key    time
    Time_Format %Y-%m-%dT%H:%M:%S.%L%z

[PARSER]
    Name        docker
    Format      json
    Time_Key    time
    Time_Format %Y-%m-%dT%H:%M:%S.%L
    Time_Keep   On

[PARSER]
    Name        cali_logic_parser
    Format      regex
    # 1. Regex 수정: \s(공백) 대신 T를, 끝에 Z를 인식하도록 업데이트
    Regex       ^\[(?<level>[A-Z]+)\]\s+(?<timestamp>\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z)\s+(?<service>[^/]+)/(?<version>[^\s]+)\s+\[(?<trace_id>[^\]]+)\]:\s+(?<message>.*)$
    Time_Key    timestamp
    # 2. Time_Format 수정: ISO8601 형식(%z 포함)으로 변경
    Time_Format %Y-%m-%dT%H:%M:%S.%L%z
    Time_Keep   On

[MULTILINE_PARSER]
    Name          multiline_start
    Type          regex
    Flush_timeout 1000
    # 3. Rule 수정: 현재 main.py에 존재하는 INFO, ERROR, WARN만 유지
    Rule      "start_state"   "/^\[(INFO|ERROR|WARN)\]/"   "cont"
    Rule      "cont"          "/^(?!\[(INFO|ERROR|WARN)\])/"   "cont"